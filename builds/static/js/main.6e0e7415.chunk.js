(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(7),a=n.n(s),r=n(6),o=n.n(r),i=n(8),u=n(9),l=n(3),m=(n(15),n(0)),j=window.location.origin.replace(/^http/,"ws");var d=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),r=Object(l.a)(a,2),d=r[0],b=r[1],O=Object(c.useState)(""),p=Object(l.a)(O,2),v=p[0],f=p[1],h=Object(c.useState)(!1),g=Object(l.a)(h,2),x=g[0],N=g[1],w=Object(c.useRef)(),S=function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),d){e.next=3;break}return e.abrupt("return");case 3:n={name:v,message:d,id:Date.now(),event:"message"},w.current.send(JSON.stringify(n)),b("");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return x?Object(m.jsx)("div",{className:"modal-wrapper",children:Object(m.jsxs)("div",{className:"messages-modal",children:[Object(m.jsx)("form",{onSubmit:S,children:Object(m.jsxs)("div",{className:"form",children:[Object(m.jsx)("input",{className:"modal-input",value:d,onChange:function(e){return b(e.target.value)},type:"text"}),Object(m.jsx)("button",{className:"submit-button",type:"submit",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})}),Object(m.jsx)("div",{className:"messages",children:n.map((function(e){return Object(m.jsx)("div",{children:"connection"===e.event?Object(m.jsxs)("div",{className:"connection_message",children:["\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c ",e.name," \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u043b\u0441\u044f"]}):e.name===v?Object(m.jsx)("div",{className:"my-message",children:e.message}):Object(m.jsxs)("div",{className:"message",children:[e.name,": ",e.message]})},e.id)}))})]})}):Object(m.jsx)("div",{className:"modal-wrapper",children:Object(m.jsx)("div",{className:"modal",children:Object(m.jsx)("form",{onSubmit:function(e){e.preventDefault(),w.current=new WebSocket(j),w.current.onopen=function(){N(!0);var e={event:"connection",name:v,id:Date.now()};w.current.send(JSON.stringify(e))},w.current.onmessage=function(e){console.log(n);var t=JSON.parse(e.data);s((function(e){return[t].concat(Object(u.a)(e))}))},w.current.onclose=function(){console.log("\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0440\u0430\u0437\u043e\u0440\u0432\u0430\u043d\u043e")},w.current.onerror=function(){console.log("\u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f")}},children:Object(m.jsxs)("div",{className:"modal-content",children:[Object(m.jsx)("input",{className:"modal-input",value:v,onChange:function(e){return f(e.target.value)},type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u0438\u043c\u044f"}),Object(m.jsx)("button",{type:"submit",className:"submit-button",children:"\u0412\u043e\u0439\u0442\u0438"})]})})})})};a.a.render(Object(m.jsx)(d,{}),document.getElementById("root")),console.log(1)}},[[17,1,2]]]);
//# sourceMappingURL=main.6e0e7415.chunk.js.map