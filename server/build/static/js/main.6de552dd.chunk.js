(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(7),a=n.n(s),r=n(6),o=n.n(r),i=n(8),u=n(9),l=n(3),m=(n(15),n(0));var j=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),r=Object(l.a)(a,2),j=r[0],b=r[1],d=Object(c.useState)(""),O=Object(l.a)(d,2),p=O[0],v=O[1],f=Object(c.useState)(!1),h=Object(l.a)(f,2),x=h[0],g=h[1],N=Object(c.useRef)(),w=function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),j){e.next=3;break}return e.abrupt("return");case 3:n={name:p,message:j,id:Date.now(),event:"message"},N.current.send(JSON.stringify(n)),b("");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return x?Object(m.jsx)("div",{className:"modal-wrapper",children:Object(m.jsxs)("div",{className:"messages-modal",children:[Object(m.jsx)("form",{onSubmit:w,children:Object(m.jsxs)("div",{className:"form",children:[Object(m.jsx)("input",{className:"modal-input",value:j,onChange:function(e){return b(e.target.value)},type:"text"}),Object(m.jsx)("button",{className:"submit-button",type:"submit",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})}),Object(m.jsx)("div",{className:"messages",children:n.map((function(e){return Object(m.jsx)("div",{children:"connection"===e.event?Object(m.jsxs)("div",{className:"connection_message",children:["\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c ",e.name," \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u043b\u0441\u044f"]}):e.name===p?Object(m.jsx)("div",{className:"my-message",children:e.message}):Object(m.jsxs)("div",{className:"message",children:[e.name,": ",e.message]})},e.id)}))})]})}):Object(m.jsx)("div",{className:"modal-wrapper",children:Object(m.jsx)("div",{className:"modal",children:Object(m.jsx)("form",{onSubmit:function(e){e.preventDefault(),N.current=new WebSocket("ws://localhost:777"),N.current.onopen=function(){g(!0);var e={event:"connection",name:p,id:Date.now()};N.current.send(JSON.stringify(e))},N.current.onmessage=function(e){console.log(n);var t=JSON.parse(e.data);s((function(e){return[t].concat(Object(u.a)(e))}))},N.current.onclose=function(){console.log("\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0440\u0430\u0437\u043e\u0440\u0432\u0430\u043d\u043e")},N.current.onerror=function(){console.log("\u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f")}},children:Object(m.jsxs)("div",{className:"modal-content",children:[Object(m.jsx)("input",{className:"modal-input",value:p,onChange:function(e){return v(e.target.value)},type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u0438\u043c\u044f"}),Object(m.jsx)("button",{type:"submit",className:"submit-button",children:"\u0412\u043e\u0439\u0442\u0438"})]})})})})};a.a.render(Object(m.jsx)(j,{}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.6de552dd.chunk.js.map